!function(p){var d={},e={init:function(t){var e=p.extend({color:"#000000",height:"300px",width:"300px",line_width:8,starting_position:25,percent:100,counter_clockwise:!1,percentage:!0,text:""},t);d=e;var i=p("<div class='progress-percentage'></div>");d.percentage||i.text(d.percentage),p(this).append(i);var n=p("<div class='progress-text'></div>");return"percent"!=d.text&&n.text(d.text),p(this).append(n),100!=d.starting_position&&(d.starting_position=d.starting_position%100),100!=d.ending_position&&(d.ending_position=d.ending_position%100),r(d.width),r(d.height),p(this).css({height:d.height,width:d.width}),p(this).addClass("circular-progress-bar"),p(this).find("canvas").remove(),p(this).append(h(p(this))),this},percent:function(t){return d.percent=t,p(this).css({height:d.height,width:d.width}),p(this).children("canvas").remove(),p(this).append(h(p(this))),this},animate:function(t,e){p(this).css({height:d.height,width:d.width});var i=e/10,n=(t-d.percent)/i,r=p(this),s=setInterval(function(){d.percent<t?(r.children("canvas").remove(),d.percent+=n,r.append(h(r))):clearInterval(s)},10);return this}};function g(t){return t.indexOf("px")?t.substring(0,t.length-2):canvas_height.indexOf("%")?t.substring(0,t.length-1):void 0}function r(t){if(t.toString().indexOf("px")<-1&&t.toString().indexOf("%")<-1)return t+"px"}function l(t,e){return e<0?parseInt(t)/100*360*(Math.PI/180)-Math.PI/2:(parseInt(t)+parseInt(e))/100*360*(Math.PI/180)-Math.PI/2}function h(t){var e=g(d.height.toString()),i=g(d.width.toString()),n=document.createElement("canvas");n.height=e,n.width=i;var r=n.getContext("2d");r.strokeStyle=d.color,r.lineWidth=d.line_width,r.beginPath();var s=l(d.starting_position,-1),h=l(d.starting_position,d.percent),o=0,a=i/2,c=e/2;return o=i<=e?.9*i/2-2*d.line_width:.9*e/2-2*d.line_width,r.arc(a,c,o,s,h,d.counter_clockwise),r.stroke(),d.percentage&&p(".progress-percentage").text(Math.round(d.percent)/10),n}p.fn.circularProgress=function(t){return e[t]?e[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void p.error("Method "+t+" does not exist."):e.init.apply(this,arguments)}}(jQuery);